<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tema 3: Funciones y Custom Properties - Apuntes CSS</title>
    <meta name="description" content="Funciones CSS: var(), calc(), min(), max(), clamp(), funciones matemáticas y @property.">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="icon" type="image/png" href="../favicon.ico">
    <style>
        /* Prevención global de desborde para bloques de código */
        pre {
            white-space: pre-wrap; 
            word-break: break-all;
        }
        /* Ajuste para que las imágenes no rompan el layout */
        img {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 font-sans text-sm leading-relaxed overflow-x-hidden">

    <header class="bg-gradient-to-br from-amber-900 to-amber-800 text-white sticky top-0 z-50 shadow-md">
        <div class="max-w-6xl mx-auto px-4 py-3 flex items-center justify-between gap-4">
            <a href="../index.html" class="flex items-center gap-2 text-white no-underline hover:opacity-80">
                <span class="bg-white/20 px-3 py-1 rounded font-bold text-lg">CSS</span>
            </a>
            <h1 class="flex-1 text-base md:text-lg font-semibold truncate">Tema 3: Funciones</h1>
            <div class="relative tema-dropdown">
                <button class="flex items-center gap-2 bg-white/20 hover:bg-white/30 px-3 py-2 rounded text-xs font-medium transition-colors">
                    <span>Temas</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                </button>
                <div class="tema-dropdown-menu absolute right-0 top-full mt-1 bg-white rounded-lg shadow-xl border border-gray-200 py-2 min-w-[240px] max-h-96 overflow-y-auto hidden">
                    <div class="px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide border-b border-gray-100">Temas CSS</div>
                    <a href="tema1-conceptos.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">1. Conceptos CSS</a>
                    <a href="tema2-pseudos.html" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">2. Pseudo-elementos</a>
                    <a href="tema3-funciones.html" class="block px-4 py-2 text-sm text-amber-900 bg-amber-50 font-medium">3. Funciones</a>
                    <div class="border-t border-gray-100 mt-2 pt-2">
                        <a href="../index.html" class="block px-4 py-2 text-sm text-amber-900 hover:bg-amber-50 font-medium">&larr; Volver al índice</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <nav class="bg-white border-b border-gray-200 px-4 py-2.5 max-w-6xl mx-auto">
        <p class="text-[10px] text-gray-500 mb-1.5 font-semibold uppercase tracking-wide">En este tema</p>
        <div class="flex flex-wrap gap-1.5">
            <a href="#custom-properties" class="text-[10px] px-2 py-1 bg-amber-50 text-amber-900 rounded-full border border-amber-200">Variables</a>
            <a href="#calc" class="text-[10px] px-2 py-1 bg-amber-50 text-amber-900 rounded-full border border-amber-200">calc()</a>
            <a href="#min-max-clamp" class="text-[10px] px-2 py-1 bg-amber-50 text-amber-900 rounded-full border border-amber-200">Comparación</a>
            <a href="#tipografia-fluida" class="text-[10px] px-2 py-1 bg-amber-900 text-white rounded-full italic font-medium">Fluidez</a>
            <a href="#matematicas" class="text-[10px] px-2 py-1 bg-amber-50 text-amber-900 rounded-full border border-amber-200">Matemáticas</a>
            <a href="#at-property" class="text-[10px] px-2 py-1 bg-amber-50 text-amber-900 rounded-full border border-amber-200">@property</a>
            <a href="#otras-funciones" class="text-[10px] px-2 py-1 bg-amber-50 text-amber-900 rounded-full border border-amber-200">Otras</a>
        </div>
    </nav>

    <main class="flex flex-wrap gap-4 p-4 max-w-6xl mx-auto">

        <section id="custom-properties" class="bg-white rounded-lg p-4 shadow-sm w-full overflow-hidden border-l-4 border-amber-600">
            <h2 class="text-xl font-bold text-amber-900 border-b-2 border-amber-900 pb-1 mb-3">
                <span class="orden">1</span>Custom Properties (Variables CSS)
            </h2>
            <p class="text-sm mb-3 italic text-amber-700">Propiedades personalizadas que almacenan valores reutilizables dinámicos.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="overflow-hidden">
                    <h3 class="font-semibold text-amber-800 mb-2">Definición y uso</h3>
                    <pre class="bg-gray-800 text-gray-100 p-3 rounded-md text-[11px] overflow-x-auto">:root { --color-primary: #3b82f6; }
.button { background: var(--color-primary); }</pre>
                </div>
                <div class="overflow-hidden">
                    <h3 class="font-semibold text-amber-800 mb-2">Fallbacks</h3>
                    <pre class="bg-gray-800 text-gray-100 p-3 rounded-md text-[11px] overflow-x-auto">color: var(--accent, blue);</pre>
                </div>
            </div>
            
            <h3 class="font-semibold text-amber-800 mt-4 mb-2">Alcance y JS</h3>
            <pre class="bg-gray-800 text-gray-100 p-3 rounded-md text-[11px] overflow-x-auto">.card { --bg: #fff; } /* Local */
document.documentElement.style.setProperty('--color', '#f00');</pre>
        </section>

        <section id="calc" class="bg-white rounded-lg p-4 shadow-sm flex-1 min-w-full md:min-w-[calc(50%-1rem)] overflow-hidden">
            <h2 class="text-xl font-bold text-amber-900 border-b-2 border-amber-900 pb-1 mb-3">
                <span class="orden">2</span>calc()
            </h2>
            <p class="text-xs mb-3 text-red-700 font-bold italic underline">Espacios obligatorios en + y -</p>
            <pre class="bg-gray-800 text-gray-100 p-3 rounded-md text-[11px] overflow-x-auto">width: calc(100% - 250px);
padding: calc(var(--unit) * 2);</pre>
        </section>

        <section id="min-max-clamp" class="bg-white rounded-lg p-4 shadow-sm flex-1 min-w-full md:min-w-[calc(50%-1rem)] overflow-hidden">
            <h2 class="text-xl font-bold text-amber-900 border-b-2 border-amber-900 pb-1 mb-3">
                <span class="orden">3</span>min(), max() y clamp()
            </h2>
            <div class="space-y-2">
                <pre class="bg-gray-800 text-gray-100 p-2 rounded text-[10px] overflow-x-auto">width: min(400px, 90%);
font-size: clamp(1rem, 4vw, 2rem);</pre>
            </div>
        </section>

        <section id="tipografia-fluida" class="bg-amber-900 text-white rounded-lg p-5 shadow-sm w-full overflow-hidden">
            <h2 class="text-xl font-bold border-b border-amber-500 pb-1 mb-4 italic">
                <span class="orden bg-white text-amber-900">4</span>Escalas y Tipografía Líquida
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="overflow-hidden">
                    <h3 class="font-bold text-amber-300 mb-2">Escala Modular</h3>
                    <pre class="bg-black/30 p-3 rounded text-[10px] border border-white/10 overflow-x-auto">--step-1: calc(var(--step-0) * 1.25);</pre>
                </div>
                <div class="overflow-hidden">
                    <h3 class="font-bold text-amber-300 mb-2">Clamp Líquido</h3>
                    <pre class="bg-black/30 p-3 rounded text-[10px] border border-white/10 overflow-x-auto">--fs-base: clamp(1rem, 5vw, 1.2rem);</pre>
                </div>
            </div>
            
        </section>

        <section id="matematicas" class="bg-white rounded-lg p-4 shadow-sm w-full overflow-hidden border-l-4 border-amber-600">
            <h2 class="text-xl font-bold text-amber-900 border-b-2 border-amber-900 pb-1 mb-3">
                <span class="orden">5</span>Funciones matemáticas avanzadas
            </h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div class="overflow-hidden">
                    <h3 class="font-semibold text-amber-800 text-xs mb-1">Trigonométricas y Exponenciales</h3>
                    <pre class="bg-gray-800 text-gray-100 p-3 rounded-md text-[10px] overflow-x-auto">transform: translateX(cos(45deg));
--scale: pow(1.2, var(--level));</pre>
                </div>
                <div class="overflow-hidden">
                    <h3 class="font-semibold text-amber-800 text-xs mb-1">Redondeo y Signo</h3>
                    <pre class="bg-gray-800 text-gray-100 p-3 rounded-md text-[10px] overflow-x-auto">width: round(down, 153px, 10px);
margin: abs(var(--offset));</pre>
                </div>
            </div>
            

[Image of unit circle trigonometry]

        </section>

        <section id="at-property" class="bg-white rounded-lg p-4 shadow-sm flex-1 min-w-full md:min-w-[calc(50%-1rem)] overflow-hidden">
            <h2 class="text-xl font-bold text-amber-900 border-b-2 border-amber-900 pb-1 mb-3">
                <span class="orden">6</span>@property (CSS Houdini)
            </h2>
            <p class="text-[11px] mb-2 p-2 bg-amber-50 border-l-4 border-amber-500 rounded">Registra tipos de datos para animar variables (gradientes).</p>
            <pre class="bg-gray-800 text-gray-100 p-3 rounded-md text-[10px] overflow-x-auto">@property --angle {
  syntax: "&lt;angle&gt;";
  initial-value: 0deg;
  inherits: false;
}</pre>
        </section>

        <section id="otras-funciones" class="bg-white rounded-lg p-4 shadow-sm flex-1 min-w-full md:min-w-[calc(50%-1rem)] overflow-hidden">
            <h2 class="text-xl font-bold text-amber-900 border-b-2 border-amber-900 pb-1 mb-3">
                <span class="orden">7</span>Otras funciones útiles
            </h2>
            <div class="space-y-2">
                <div class="overflow-hidden">
                    <p class="text-[11px] font-bold">url() / attr() / env()</p>
                    <pre class="bg-gray-800 text-gray-100 p-3 rounded-md text-[10px] overflow-x-auto">content: attr(href);
padding: env(safe-area-inset-top);</pre>
                </div>
            </div>
        </section>

    </main>

    <nav class="flex justify-between items-center max-w-6xl mx-auto mt-4 px-4 pb-8">
        <a href="tema2-pseudos.html" class="px-3 py-2 bg-amber-900 text-white rounded text-xs hover:bg-amber-800">&larr; Tema 2</a>
        <a href="tema4-color-unidades.html" class="px-3 py-2 bg-amber-900 text-white rounded text-xs hover:bg-amber-800">Tema 4 &rarr;</a>
    </nav>

    <script>
        const btn = document.querySelector('.tema-dropdown button');
        const menu = document.querySelector('.tema-dropdown-menu');
        btn.addEventListener('click', () => menu.classList.toggle('hidden'));
        document.addEventListener('click', (e) => {
            if (!btn.contains(e.target)) menu.classList.add('hidden');
        });
    </script>
</body>
</html>